(function($){var methods={init:function(options){return this.each(function(){var resSrc=$(this).attr('data-res-src');var exists=false;var obj=$(this);var loadImage=function(src,callback){var r=new XMLHttpRequest();r.open("HEAD",src,true);r.onreadystatechange=function(){if(r.readyState==4){if(r.status===200){exists=true}else{exists=false}callback.call()}};r.send(null)};loadImage(resSrc,function(){if(exists){obj.attr('src',resSrc)}})})}};$.fn.retinaDisplay=function(method){if(methods[method]){return methods[method].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof method==='object'||!method){return methods.init.apply(this,arguments)}else{$.error('Method '+method+' does not exist on jQuery.uploader')}}})(jQuery);
